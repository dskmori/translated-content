---
title: downloads.DownloadQuery
slug: Mozilla/Add-ons/WebExtensions/API/downloads/DownloadQuery
tags:
  - API
  - Add-ons
  - DownloadQuery
  - Extensions
  - Non-standard
  - Reference
  - Type
  - WebExtensions
translation_of: Mozilla/Add-ons/WebExtensions/API/downloads/DownloadQuery
---
<div>{{AddonSidebar()}}</div>

<p>Le type <code>DownloadQuery</code> de l'API {{WebExtAPIRef("downloads")}} définit un ensemble de paramètres pouvant être utilisés pour rechercher dans le gestionnaire de téléchargements un ensemble spécifique de téléchargements.</p>

<p>Ce type est utilisé par exemple dans {{WebExtAPIRef("downloads.search()")}} et {{WebExtAPIRef("downloads.erase()")}}, en tant qu'objet de requête pour filtrer l'ensemble de {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} pour retourner ou effacer.</p>

<h2 id="Type">Type</h2>

<p>Les valeurs de ce type sont des objets. Ils contiennent les propriétés suivantes :</p>

<dl class="reference-values">
 <dt><code>query</code>{{optional_inline}}</dt>
 <dd>Un <code>tableau</code> de<code><code>chaines</code></code>. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} dont le <code>nom de fichier</code> ou l'<code>URL</code> contient toutes les chaînes données. Vous pouvez également inclure des termes commençant par un titet (-) — ces termes <strong>ne doivent pas</strong> figurer dans le <code>nom du fichier</code> ou l'<code>url</code> de l'élément à inclure.</dd>
 <dt><code>startedBefore</code>{{optional_inline}}</dt>
 <dd>Un {{WebExtAPIRef('downloads.DownloadTime', "DownloadTime")}}. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} qui a démarré avant l'heure indiquée.</dd>
 <dt><code>startedAfter</code>{{optional_inline}}</dt>
 <dd>Un {{WebExtAPIRef('downloads.DownloadTime', "DownloadTime")}}. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} qui a démarré après l'heure indiquée.</dd>
 <dt><code>endedBefore</code>{{optional_inline}}</dt>
 <dd>Un {{WebExtAPIRef('downloads.DownloadTime', "DownloadTime")}}. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} qui s'est terminé avant l'heure indiquée.</dd>
 <dt><code>endedAfter</code>{{optional_inline}}</dt>
 <dd>Un {{WebExtAPIRef('downloads.DownloadTime', "DownloadTime")}}. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} qui s'est terminé après l'heure indiquée.</dd>
 <dt><code>totalBytesGreater</code>{{optional_inline}}</dt>
 <dd>Un <code>number</code> représentant un nombre d'octets. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} dont le  <code>totalBytes</code> est supérieur au nombre donné.</dd>
 <dt><code>totalBytesLess</code>{{optional_inline}}</dt>
 <dd>Un <code>number</code> représentant un nombre d'octets. Inclure seulement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} dont le <code>totalBytes</code> est inférieur au nombre donné.</dd>
 <dt><code>filenameRegex</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant une expression régulière. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} dont le <code>nom du fichier</code> correspond à l'expression régulière donnée..</dd>
 <dt><code>urlRegex</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant une expression régulière. Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} dont la valeur d'<code>url</code> correspond à l'expression régulière donnée..</dd>
 <dt><code>limit</code>{{optional_inline}}</dt>
 <dd>Un <code>integer</code> représentant un nombre de résultats. Incluez uniquement le nombre spécifié de {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}}.</dd>
 <dt><code>orderBy</code>{{optional_inline}}</dt>
 <dd>Un <code>tableau</code>de <code><code>chaînes</code></code> représentant les propriétés  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItem")}} les résultats de la recherche doivent être tirés par exemple, en incluant <code>startTime</code> puis <code>totalBytes</code> dans le tableau trierait {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} par leur heure de début, puis le total des octets — dans l'ordre croissant. Pour spécifier le tri par une propriété dans l'ordre décroissant, préfixez-le avec un trait d'union, par exemple <code>-startTime</code>.</dd>
 <dt><code>id</code>{{optional_inline}}</dt>
 <dd>Un <code>integer</code> représentant l'ID du {{WebExtAPIRef("downloads.DownloadItem")}} que vous souhaitez interroger.</dd>
 <dt><code>url</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant l'URL absolue à partir de laquelle le téléchargement a été initié, avant toute redirection.</dd>
 <dt><code>filename</code>{{optional_inline}}</dt>
 <dd>Un string représentant le chemin local absolu du fichier téléchargé que vous souhaitez interroger.</dd>
 <dt><code>danger</code>{{optional_inline}}</dt>
 <dd>Une chaîne représentant un {{WebExtAPIRef('downloads.DangerType')}} — inclut uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur de <code>danger</code> .</dd>
 <dt><code>mime</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant un type MIME. Incluez uniquement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur <code>mime</code>.</dd>
 <dt><code>startTime</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant une heure au format <a class="external external-icon" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. Incluez seulement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur  <code>startTime</code>.</dd>
 <dt><code>endTime</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant une heure au format <a class="external external-icon" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. Inclure uniquement sera limité à {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur <code>endTime</code>.</dd>
 <dt><code>state</code>{{optional_inline}}</dt>
 <dd>Un <code>string</code> représentant un téléchargement {{WebExtAPIRef('downloads.State')}} (<code>in_progress</code>, <code>interrupted</code>, or <code>complete</code>). Inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur d' <code>état</code>.</dd>
 <dt><code>paused</code>{{optional_inline}}</dt>
 <dd>Un <code>boolean</code> qui indique si un téléchargement est en pause — c'est-à-dire qui a cessé de lire les données de l'hôte, mais qui a conservé la connexion ouverte (<code>true</code>), ou non (<code>false</code>). inclure uniquement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur de <code>pause</code>.</dd>
 <dt><code>error</code>{{optional_inline}}</dt>
 <dd>Une chaîne représentant un {{WebExtAPIRef('downloads.InterruptReason')}} — une raison pour laquelle un téléchargement a été interrompu. Inclure uniquement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur d'  <code>erreur</code> .</dd>
 <dt><code>bytesReceived</code>{{optional_inline}}</dt>
 <dd>Un <code>number</code> représentant le nombre d'octets reçus jusqu'ici de l'hôte, sans tenir compte de la compression de fichier. Inclure seulement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur <code>bytesReceived</code>.</dd>
 <dt><code>totalBytes</code>{{optional_inline}}</dt>
 <dd>Un <code>number</code> représentant le nombre total d'octets dans le fichier téléchargé, sans tenir compte de la compression de fichier. Inclure seulement  {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur  <code>totalBytes</code>.</dd>
 <dt><code>fileSize</code>{{optional_inline}}</dt>
 <dd><code>number</code>. Nombre d'octets dans le fichier entier après la décompression, ou -1 si inconnu. Un <code>nombre</code> représentant le nombre total d'octets dans le fichier après la décompression. Inclure seulement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur <code>fileSize</code>.</dd>
 <dt><code>exists</code>{{optional_inline}}</dt>
 <dd>Un <code>boolean</code> si un fichier téléchargé existe toujours (<code>true</code>) ou non (<code>false</code>). Inclure seulement {{WebExtAPIRef("downloads.DownloadItem", "DownloadItems")}} avec cette valeur <code>existe</code>.</dd>
</dl>

<h2 id="Compatibilité_du_navigateur">Compatibilité du navigateur</h2>

<p>{{Compat("webextensions.api.downloads.DownloadQuery")}}</p>

<p>{{WebExtExamples}}</p>

<div class="note"><strong>Remerciements :</strong>

<p>Cette API est basée sur l'API Chromium <a href="https://developer.chrome.com/extensions/downloads"><code>chrome.downloads</code></a>.</p>

<p>Les données de compatibilité relatives à Microsoft Edge sont fournies par Microsoft Corporation et incluses ici sous la licence Creative Commons Attribution 3.0 pour les États-Unis.</p>
</div>

<div class="hidden">
<pre>// Copyright 2015 The Chromium Authors. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are
// met:
//
//    * Redistributions of source code must retain the above copyright
// notice, this list of conditions and the following disclaimer.
//    * Redistributions in binary form must reproduce the above
// copyright notice, this list of conditions and the following disclaimer
// in the documentation and/or other materials provided with the
// distribution.
//    * Neither the name of Google Inc. nor the names of its
// contributors may be used to endorse or promote products derived from
// this software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
// "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>
</div>
